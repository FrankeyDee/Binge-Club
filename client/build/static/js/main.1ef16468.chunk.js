(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(68)},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},59:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=(a(32),a(71)),s=a(73),i=a(74);a(33),a(34);var u=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Binge Watch Club"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarColor01"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/login"},"Log In")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/register"},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/saved"},"My Shows")))))},m=a(15),d=a(5),h=a(6),v=a(8),f=a(7),p=a(9),E=a(10),b=a(70),g=function(e,t){return fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})},w=function(e,t){return fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})})},N=function(){return fetch("/api/auth/",{method:"DELETE"})},S=function(){return fetch("/api/auth/session")},y=function(e){var t=e.children;return r.a.createElement("div",{className:"title-box"},r.a.createElement("h1",{className:"title display-3"},t))},j=function(e){var t=e.inputHandler,a=e.submitHandler;return r.a.createElement("div",{className:"form-wrap"},r.a.createElement("form",{className:"form-group card",onSubmit:a},r.a.createElement("input",{id:"inputDefault",type:"text",name:"username",className:"form-control btn-outline-secondary",onChange:t,required:!0}),r.a.createElement("span",{className:"input-underline"}),r.a.createElement("label",{htmlFor:"username",className:"text-primary"},"Username"),r.a.createElement("br",null),r.a.createElement("input",{id:"in putDefault",type:"password",name:"password",className:"form-control btn-outline-secondary",onChange:t,required:!0}),r.a.createElement("span",{className:"input-underline"}),r.a.createElement("label",{htmlFor:"password",className:"text-primary"},"Password"),r.a.createElement("br",null),r.a.createElement("div",{className:"button-holder"},r.a.createElement("button",{className:"btn btn-outline-primary center-btn"},"SUBMIT"))))},O=(a(35),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={username:"",password:"",error:null},a.handleInputChange=a.handleInputChange.bind(Object(E.a)(Object(E.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(Object(E.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(m.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),g(this.state.username,this.state.password).then(function(e){401===e.status?t.setState({error:"Whoops! That username or password invalid! Try Again, homie!"}):e.ok&&t.props.history.push("/secure")}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(y,null,"Welcome Back!"),this.state.error&&r.a.createElement("div",{className:"alert-container"},r.a.createElement("div",{className:"alert alert-dismissible alert-danger"},r.a.createElement("button",{className:"close","data-dismiss":"alert"},r.a.createElement("a",{href:"/login"},"\xd7")),r.a.createElement("strong",null,this.state.error))),r.a.createElement(j,{inputHandler:this.handleInputChange,submitHandler:this.handleSubmit}),r.a.createElement("div",{className:"form-wrap"},r.a.createElement(b.a,{to:"/register",className:"btn btn-info center-btn"},"First time? Register here")))}}]),t}(r.a.Component)),k=(a(38),a(39),a(40),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={username:"",password:"",error:null},a.handleInputChange=a.handleInputChange.bind(Object(E.a)(Object(E.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(E.a)(Object(E.a)(a))),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(m.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),w(this.state.username,this.state.password).then(function(e){return e.json()}).then(function(e){e.error?(console.error(e.error),t.setState({error:e.error})):t.props.history.push("/secure")}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(y,null," Register "),this.state.error&&r.a.createElement("div",{className:"alert-container"},r.a.createElement("div",{className:"alert alert-dismissible alert-danger"},r.a.createElement("button",{className:"close","data-dismiss":"alert"},r.a.createElement("a",{href:"/register"},"\xd7")),r.a.createElement("strong",null,this.state.error))),r.a.createElement(j,{inputHandler:this.handleInputChange,submitHandler:this.handleSubmit}),r.a.createElement("div",{className:"form-wrap"},r.a.createElement(b.a,{to:"/login",className:"btn btn-info center-btn"},"Already have an account ? Login here")))}}]),t}(r.a.Component)),C=a(14),x=a.n(C),T={getShows:function(e){return x.a.get("/api/omdb",{params:{q:"title:"+e}})},getSavedShows:function(){return x.a.get("/api/shows")},deleteShow:function(e){return x.a.delete("/api/shows/"+e)},saveShow:function(e){return x.a.post("/api/shows",e)}},I=(a(59),function(e){return r.a.createElement("div",{className:"contain"},r.a.createElement("div",{className:"intro"},r.a.createElement("div",{className:"wordart"},r.a.createElement("img",{id:"wordart",src:"tv_word_art.jpg",alt:"A TV"})),r.a.createElement("div",{className:"intro-text"},r.a.createElement("h1",null,"Welcome to The Binge Watch Club!"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"lead text-primary"},'Find titles of the most recommended shows to "binge watch." Registration allows you to search by mood and save your personalized list of shows you would like to watch. So, grab that popcorn and find your spot on the couch. What are we watching?'))),r.a.createElement("div",{className:"search"},r.a.createElement("select",{onChange:e.loadMovies,className:"form-control mr-sm-2 dropdown",placeholder:"Search",id:"exampleSelect1"},r.a.createElement("option",{value:"28"},"Action"),r.a.createElement("option",{value:"16"},"Animated"),r.a.createElement("option",{value:"35"},"Comedy"),r.a.createElement("option",{value:"10749"},"Romance"),r.a.createElement("option",{value:"878"},"Sci Fi"))),r.a.createElement("div",{className:"recent"},r.a.createElement(y,null,"Recently Recommended")))}),D=a(13),H=(a(62),a(63),function(e){return r.a.createElement(D.c,{naturalSlideHeight:300,naturalSlideWidth:400,totalSlides:12},r.a.createElement(D.a,{className:"btn-outline-secondary"},"<<"),r.a.createElement(D.e,{infinite:"false"},r.a.createElement("div",{className:"card-container"},e.movies.map(function(t,a){return r.a.createElement(D.d,{className:"card text-white bg-dark mb-3 cardy",key:t.name,index:a},r.a.createElement("div",null,t.index),r.a.createElement("div",{className:"card-header"},t.name),r.a.createElement("div",{className:"card-body text-white"},r.a.createElement("img",{src:t.poster,alt:t.name}),r.a.createElement("div",{id:"overview",className:"text-white"},t.overview)),e.isSearch?r.a.createElement("button",{onClick:function(){return e.saveHandler(t)}},"Save"):r.a.createElement("button",{onClick:function(){return e.deleteHandler(t._id)}},"Delete"))}))),r.a.createElement(D.b,{className:"btn-outline-secondary"},">>"))}),M=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[]},a.getSavedShows=function(){T.getSavedShows("/api/shows").then(function(e){return a.setState({shows:e.data})}).catch(function(e){return console.log(e)})},a.loadMovies=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{target:{value:28}}).target.value;fetch("/api/show/search/".concat(e)).then(function(e){return e.json()}).then(function(e){return e.results}).then(function(e){return e.reduce(function(e,t){return e.push({name:t.name,poster:"https://image.tmdb.org/t/p/w400"+t.poster_path,overview:t.overview}),e},[])}).then(function(e){return a.setState({movies:e})}).catch(function(e){return console.error(e)})},a.handleShowSave=function(e){T.saveShow(e).then(function(e){return console.info("show saved")})},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.loadMovies()}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(I,{loadMovies:this.loadMovies}),"// ","// ")}}]),t}(n.Component),W=(a(64),function(e){function t(){return Object(d.a)(this,t),Object(v.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"base-container welcome"},r.a.createElement("h1",{className:"shows"},"Welcome to the Shows"))}}]),t}(r.a.Component));a(65);var F=function(e){var t=e.children;return r.a.createElement("div",{className:"jumbotron mt-4"},t)};var B=function(e){var t=e.icon,a=e.title,n=e.children;return r.a.createElement("div",{className:"card mt-4"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h3",null,r.a.createElement("strong",null,r.a.createElement("i",{className:"fa fa-".concat(t),"aria-hidden":"true"})," ",a))),r.a.createElement("div",{className:"card-body"},n))};var R=function(){return r.a.createElement("footer",null,r.a.createElement("hr",null),r.a.createElement("p",{className:"pull-right"},r.a.createElement("i",{className:"fab fa-github"})," Proudly built using React.js"))};function A(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function L(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function z(e){var t=e.size,a=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}var J=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={shows:[]},a.getSavedShows=function(){T.getSavedShows("/api/shows").then(function(e){return a.setState({shows:e.data})}).catch(function(e){return console.log(e)})},a.handleShowDelete=function(e){T.deleteShow(e).then(function(e){return a.getSavedShows()})},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getSavedShows()}},{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement(L,null,r.a.createElement(z,{size:"md-12"},r.a.createElement(F,null,r.a.createElement("h1",{className:"text-center"},r.a.createElement("strong",null,"Binge Club Search")),r.a.createElement("h2",{className:"text-center"},"Saved Shows of Interest.")))),r.a.createElement(L,null,r.a.createElement(z,{size:"md-12"},r.a.createElement(B,{title:"Saved Shows",icon:"download"},this.state.shows.length?r.a.createElement(H,{movies:this.state.shows,deleteHandler:this.handleShowDelete}):r.a.createElement("h2",{className:"text-center"},"No Saved Shows")))),r.a.createElement(R,null))}}]),t}(n.Component),P=a(72),_=(a(66),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={user:null,loading:!0},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.validateCookie()}},{key:"validateCookie",value:function(){var e=this;S().then(function(e){return e.json()}).then(function(t){console.warn(t),t.username?e.setState({user:t,loading:!1}):e.setState({loading:!1})}).catch(function(t){return e.setState({loading:!1})})}},{key:"handleLogout",value:function(){N().then(function(e){return window.location.reload()}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",null," Loading... "):this.state.user?r.a.createElement(n.Fragment,null,r.a.createElement(y,null," My Shows To Binge "),r.a.createElement("div",{className:"logout-button"},r.a.createElement("button",{id:"logout",onClick:this.handleLogout,className:"btn btn-outline-danger"},"LOG OUT"))):r.a.createElement(P.a,{to:"/login"})}}]),t}(n.Component));var q=function(){return r.a.createElement(o.a,null,r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(s.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:M}),r.a.createElement(i.a,{exact:!0,path:"/login",component:O}),r.a.createElement(i.a,{exact:!0,path:"/register",component:k}),r.a.createElement(i.a,{exact:!0,path:"/loginshow",component:W}),r.a.createElement(i.a,{exact:!0,path:"/saved",component:J}),r.a.createElement(i.a,{exact:!0,path:"/secure",component:_}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.1ef16468.chunk.js.map